webpackJsonp([13],{NEpo:function(t,e){},aOl7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("GxbW"),o=n("0881"),s=n("2CU/"),i=n("TVmP"),c=s.a.encryptRsa,l=s.a.decryptRsa,r=s.a.pwdEncrypt,u={name:"login",data:function(){return{mag_name:"WELCOME",login_tip:"LOGIN RUOLA MAG FOR CUSTOMER",account:{placeholder:"Account",value:""},password:{placeholder:"Password",value:""},login_btn:{word:"LOGIN"}}},components:{"footer-c":i.a},methods:{loginCheck:function(){return a.a.checkPassword(this.password.value)&&a.a.checkEmail(this.account.value)},loginFn:function(){if(!this.loginCheck())return a.a.showTip(this,"warning","Input error!"),!0;var t=c(r(this.password.value)),e=c(this.account.value);this.loginPost(t,e)},loginPost:function(t,e){var n=this;this.$http.post(o.a.HOST+"/customer/login",{password:t,account:e},o.a.SESSION_CONFIG_CROS).then(function(t){var e=t.data,s=e.result,i=e.service_code;e.service_msg;switch(s=JSON.parse(l(s)),i=l(i)){case o.a.CUSTOMER_LOGIN:s&&s.length>0?n.loginSuccess(s):a.a.showTip(n,"warning","ERROR ACCOUNT OR PASSWORD!");break;default:a.a.showTip(n,"warning","UNKNOW ERROR!")}}).catch(function(t){a.a.showTip(n,"warning","ERROR ACCOUNT OR PASSWORD!")})},loginSuccess:function(t){if(t.length>0){var e={};e.key=t[0].key,e.name=t[0].name,this.$store.commit("changeCustomer",{customer:e}),a.a.showTip(this,"success","WELECOM COME BACK "+e.name+"!"),this.$router.push("/customerhome")}else a.a.showTip(this,"warning","UNKNOW ERROR!")}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-wrap",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginFn(e):null}}},[n("el-card",{staticClass:"form-wrap"},[n("h1",{staticClass:"mag-name"},[t._v(t._s(t.mag_name))]),t._v(" "),n("p",{staticClass:"login-tip"},[t._v(t._s(t.login_tip))]),t._v(" "),n("el-input",{staticClass:"ipt",attrs:{placeholder:t.account.placeholder,"prefix-icon":"el-icon-location-outline",type:"text",maxlength:"32"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginFn(e):null}},model:{value:t.account.value,callback:function(e){t.$set(t.account,"value",e)},expression:"account.value"}}),t._v(" "),n("el-input",{staticClass:"ipt",attrs:{placeholder:t.password.placeholder,"prefix-icon":"el-icon-location",type:"password",maxlength:"32"},model:{value:t.password.value,callback:function(e){t.$set(t.password,"value",e)},expression:"password.value"}}),t._v(" "),n("el-button",{staticClass:"login-btn",attrs:{plain:""},on:{click:t.loginFn}},[t._v(t._s(t.login_btn.word))])],1),t._v(" "),n("footer-c",{staticClass:"footer",staticStyle:{position:"absolute",bottom:"0"}})],1)},staticRenderFns:[]};var h=n("VU/8")(u,p,!1,function(t){n("NEpo")},"data-v-f584cfe0",null);e.default=h.exports}});