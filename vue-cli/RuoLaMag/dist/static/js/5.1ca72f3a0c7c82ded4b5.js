webpackJsonp([5],{BQxA:function(t,n){},JZ1b:function(t,n){},"k3J/":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("GxbW"),s=(e("0881"),e("2CU/")),i=e("TVmP"),a=(s.a.encryptRsa,s.a.decryptRsa,s.a.pwdEncrypt,{name:"login",data:function(){return{mag_name:"发货核对",login_tip:"",no:{placeholder:"NO OR SKU",value:"",tip:"请输入订单号："},label_url:"",loading:!1,can_enter:!0,no_show:{no:"",content:[]},is_next_order:!0,success_order:[],skip_order:[]}},components:{"footer-c":i.a},methods:{getLabel:function(t,n){var e=this;if(this.isNextOrder()){if(!this.loading&&this.can_enter&&this.no.value){this.can_enter=!1,this.loading=!0,this.label_url="";var s=this.no.value,i=this.$store.state.user.key;s=this.no.value.replace(/\s/g,""),o.a.cRequest(this,"/process/ship/check",{key:i,no:s},function(n){n.result&&n.result.length>0?(e.no_show.content=n.result,e.no_show.no=s):(e.no_show.content=[],e.no_show.no="",o.a.showTip(e,"warning","查无此需打包单号。请检查是否为2019年1月12日以后并已打印面单且需要打包的订单。")),e.isNextOrder(),e.loading=!1,t.target.focus(),e.can_enter=!0,e.no.value=""})}}else this.checkSKU(t)},clearNoShow:function(){this.skip_order.push(this.no_show),this.no_show={no:"",content:[]},this.isNextOrder()},checkSKU:function(t){if(!this.loading&&this.can_enter&&this.no.value){this.can_enter=!1,this.loading=!0,this.label_url="";var n=this.no.value.toUpperCase(),e=!1,s=0;for(var i in this.no_show.content)if(this.no_show.content.hasOwnProperty(i)){var a=this.no_show.content[i];if(s++,a.SKU==n&&!a.own){a.own=!0,e=!0;break}}var r=this.no_show.no;1==e&&s==this.no_show.content.length&&(this.$notify({title:"成功",message:"订单NO. "+r+"核对成功，可打包。",type:"success"}),this.success_order.push(this.no_show)),this.isNextOrder(),o.a.showTip(this,e?"success":"waring",e?"SKU匹配成功":"SKU匹配错误！"),this.loading=!1,t.target.focus(),this.can_enter=!0,this.no.value=""}},isNextOrder:function(){if(!this.no_show.no||!this.no_show.content||this.no_show.content.length<1)return this.is_next_order=!0,!0;var t=!0;for(var n in this.no_show.content)if(this.no_show.content.hasOwnProperty(n)){var e=this.no_show.content[n];(!e.own||e.own&&0==e.own)&&(t=!1)}return this.is_next_order=t,t}},computed:{},mounted:function(){}}),r={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login-wrap label-print",on:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;t.getLabel(n)}}},[e("el-card",{staticClass:"form-wrap"},[e("h1",{staticClass:"mag-name"},[t._v(t._s(t.mag_name))]),t._v(" "),t.is_next_order?e("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(t.no.tip))]):e("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("请输入NO. "+t._s(t.no_show.no)+"需求产品的SKU：")]),t._v(" "),e("el-input",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ipt",attrs:{placeholder:t.no.placeholder,type:"text"},on:{blur:function(t){t.target.focus()}},model:{value:t.no.value,callback:function(n){t.$set(t.no,"value",n)},expression:"no.value"}}),t._v(" "),t.is_next_order?t._e():e("el-button",{staticStyle:{float:"right"},on:{click:t.clearNoShow}},[t._v("跳过该订单")])],1),t._v(" "),t.no_show.no?e("el-card",{staticStyle:{"font-size":"18px","line-height":"22px",width:"360px",position:"absolute",left:"60px",top:"60px"}},[e("p",[t._v("NO. "+t._s(t.no_show.no))]),t._v(" "),e("p",[t._v("SKU:")]),t._v(" "),t._l(t.no_show.content,function(n,o){return e("div",{key:o,staticStyle:{"font-size":"18px","line-height":"22px"}},[t._v("\n      "+t._s(o+1)+". "+t._s(n.SKU)+" "),n.own?e("span",[t._v("✔")]):e("span",[t._v("✘")])])})],2):t._e(),t._v(" "),e("footer-c",{staticClass:"footer",staticStyle:{position:"fixed",bottom:"0"}})],1)},staticRenderFns:[]};var h=e("VU/8")(a,r,!1,function(t){e("BQxA"),e("JZ1b")},"data-v-a129eaf8",null);n.default=h.exports}});