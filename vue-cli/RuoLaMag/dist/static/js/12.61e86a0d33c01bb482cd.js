webpackJsonp([12],{V18D:function(e,t){},vgcU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("GxbW"),o=a("0881"),n=a("2CU/"),i=a("TVmP"),s=a("PvTS"),l=a("wUZ8"),d=a.n(l),c=a("urW8"),u=a.n(c),p=a("uXZL"),_=a.n(p);u.a.use(d.a);n.a.encryptRsa,n.a.decryptRsa,n.a.pwdEncrypt;var h={name:"customer-home",data:function(){return{order_number:"",order_info:{no:"",country:"",details:[],orderno:""},table:{prop:"default",order:"ascending",page_size:5,current_page:1,loading:!1,data:[],total:0},date_order_id:"",date_order_date:"",date_order:{prop:"default",order:"ascending",page_size:50,current_page:1,loading:!1,data:[],total:0},rule:{arr:"",_regexp:""}}},components:{"footer-c":i.a,"top-nav":s.a},methods:{_selectRemoteMethod:function(){this.selectRemoteMethod()},selectRemoteMethod:function(e){var t=this,a=this.$store.state.customer.key,n=this.order_number;e&&(n=e),n&&(n=n.replace("#","")),r.a.cRequest(this,"/customer/order/info/single",{no:n,key:a},function(e){switch(e.service_code){case o.a.CUSTOMER_ORDER_INFO_SINGLE:if(e.result&&e.result[0]){var a=e.result[0].data[0].details;t.order_info.orderno=e.result[0].data[0].server_hawbcode,t.order_info.no=n,t.order_info.country=e.result[0].data[0].destination_country,t.order_info.details=a}else r.a.showTip(t,"warning","No logistics status information.");break;default:r.a.showTip(t,"warning","UNKNOW ERROR!")}})},findOrderInfo:function(){},sortChange:function(e){var t=e.order,a=e.prop;this.table.prop=a,this.table.order=t,this.requestData()},sortChangeForDateOrder:function(e){var t=e.order,a=e.prop;this.date_order.prop=a,this.date_order.order=t,this.requestDateOrderData()},sizeChangeForDateOrder:function(e){this.date_order.page_size=e,this.requestDateOrderData()},sizeChange:function(e){this.table.page_size=e,this.requestData()},currentChange:function(e){this.table.current_page=e,this.requestData()},currentChangeForDateOrder:function(e){this.date_order.current_page=e,this.requestDateOrderData()},requestData:function(){var e=this;this.table.loading=!0;var t=this.table,a=t.current_page,n=t.order,i=t.page_size,s=t.prop,l=this.$store.state.customer.key;r.a.cRequest(this,"/customer/dateorder/list",{current_page:a,order:n,page_size:i,prop:s,key:l},function(t){switch(e.table.loading=!1,t.service_code){case o.a.CUSTOMER_DATE_ORDER_LIST:e.table.data=t.result,e.table.total=t.result[0]?t.result[0].total:0,0==e.table.total&&(e.table.data=[]);break;default:e.table.data=[],r.a.showTip(e,"warning","UNKNOW ERROR!")}})},getRule:function(){var e=this,t=this.$store.state.customer.key;r.a.cRequest(this,"/customer/rule/get",{key:t},function(t){switch(t.service_code){case o.a.CUSTOMER_RULE_GET:t.result&&t.result[0]?(e.rule.arr=t.result[0].array,e.rule._regexp=t.result[0]._regexp):r.a.showTip(e,"warning","YOU HAVE NO RULE.IT MEANS YOU COULD NOT SEE YOUR ORDER'S PICTURE.");break;default:r.a.showTip(e,"warning","UNKNOW ERROR!")}})},Check:function(e){this.date_order_id=e.id,this.date_order_date=e.date,this.requestDateOrderData()},requestDateOrderData:function(){var e=this;this.date_order.loading=!0;var t=this.date_order,a=t.current_page,n=t.order,i=t.page_size,s=t.prop,l=this.$store.state.customer.key,d=this.date_order_id;r.a.cRequest(this,"/customer/dateorder/items",{id:d,current_page:a,order:n,page_size:i,prop:s,key:l},function(t){switch(e.date_order.loading=!1,t.service_code){case o.a.CUSTOMER_DATE_ORDER_ITEMS:e.date_order.data=t.result,e.date_order.total=t.result[0]?t.result[0].total:0,0==e.date_order.total&&(e.date_order.data=[]);break;default:e.date_order.data=[],r.a.showTip(e,"warning","UNKNOW ERROR!")}})},CheckNo:function(e){this.selectRemoteMethod(e.no)},filterIsSending:function(e,t){return e?t._print>0:t._print<1},exportOut:function(){var e=this,t=this.$store.state.customer.key,a=this.date_order_id;r.a.cRequest(this,"/customer/dateorder/items/all",{id:a,key:t},function(t){switch(t.service_code){case o.a.CUSTOMER_DATE_ORDER_ITEMS_ALL:e.excelOut(t.result);break;default:r.a.showTip(e,"warning","UNKNOW ERROR!")}})},excelOut:function(e){var t=_.a.utils.book_new(),a=_.a.utils.json_to_sheet(e,{header:["no","time"]});_.a.utils.book_append_sheet(t,a,"SHIPPING");var r=_.a.write(t,{bookType:"xlsx",bookSST:!1,type:"array"});saveAs(new Blob([r],{type:"application/octet-stream"}),"SHIPPING ORDERS.xlsx")}},mounted:function(){this.getRule()}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customer-wrap"},[a("el-container",{staticClass:"outest-container"},[a("el-header",{staticClass:"header"},[a("top-nav")],1),e._v(" "),a("el-container",[a("el-main",{staticClass:"main-wrap"},[a("el-card",{attrs:{shadow:"hover"}},[a("el-alert",{attrs:{title:"It's for new orders. And order number without '#' may could be found.",type:"info"}}),e._v(" "),a("el-input",{staticClass:"order-no",attrs:{placeholder:"INPUT YOUR ORDER NUMBER",clearable:""},model:{value:e.order_number,callback:function(t){e.order_number=t},expression:"order_number"}}),e._v(" "),a("el-button",{on:{click:e._selectRemoteMethod}},[e._v("FIND")])],1),e._v(" "),e.order_info.orderno?a("el-card",{staticStyle:{"font-size":"16px",color:"#999","margin-top":"10px"},attrs:{shadow:"hover"}},[a("p",{staticClass:"order-info-item no"},[e._v(e._s(e.order_info.no)+" NO. "+e._s(e.order_info.orderno))]),e._v(" "),e._l(e.order_info.details,function(t,r){return a("div",{key:r,staticClass:"order-info-item"},[a("i",{staticClass:"el-icon-time cgreen",staticStyle:{"margin-right":"3px"}}),e._v("\n            "+e._s(t.track_occur_date)+"\n            "),t.track_location?a("i",{staticClass:"el-icon-location cgreen",staticStyle:{"margin-left":"16px","margin-right":"3px"}}):e._e(),e._v("\n            "+e._s(t.track_location)+"\n            "),a("i",{staticClass:"el-icon-circle-check cgreen",staticStyle:{"margin-left":"16px","margin-right":"3px"}}),e._v("\n            "+e._s(t.track_description_en)+"\n          ")])})],2):e._e(),e._v(" "),a("el-card",{staticStyle:{"margin-top":"10px",width:"50%",float:"left"},attrs:{shadow:"hover"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticStyle:{width:"100%"},attrs:{data:e.table.data,"default-sort":{prop:"date",order:"descending"}},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{sortable:"custom",fixed:"",prop:"date",label:"Date"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Operation",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.Check(t.row)}}},[e._v("CHECK")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"page-size":e.table.page_size,"page-sizes":[10,20,50,100],total:e.table.total,layout:"prev, pager, next, total, slot ,sizes"},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),e._v(" "),e.date_order_id?a("el-card",{staticStyle:{"margin-top":"10px",width:"calc(50% - 20px)",float:"left","margin-left":"20px"},attrs:{shadow:"hover"}},[a("p",{staticClass:"order-info-item no"},[e._v("DATE. "+e._s(e.date_order_date))]),e._v(" "),a("el-button",{staticStyle:{float:"right"},on:{click:e.exportOut}},[e._v("EXPORT SHIPPED")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.date_order.loading,expression:"date_order.loading"}],staticStyle:{width:"100%"},attrs:{data:e.date_order.data,"default-sort":{prop:"no",order:"ascending"}}},[a("el-table-column",{attrs:{fixed:"",prop:"no",label:"No."}}),e._v(" "),a("el-table-column",{attrs:{prop:"_print",label:"STATE",width:"180",filters:[{text:"SHIPPING",value:1},{text:"IN PRODUCTION",value:0}],"filter-method":e.filterIsSending,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row._print>0?"success":"primary","disable-transitions":""}},[e._v(e._s(t.row._print>0?"SHIPPING":"IN PRODUCTION"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Operation",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.CheckNo(t.row)}}},[e._v("CHECK")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"page-size":e.date_order.page_size,"page-sizes":[50,100,1e3],total:e.date_order.total,layout:"prev, pager, next, total, slot ,sizes"},on:{"size-change":e.sizeChangeForDateOrder,"current-change":e.currentChangeForDateOrder}})],1):e._e()],1),e._v(" "),a("el-footer",[a("footer-c")],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(h,g,!1,function(e){a("V18D")},"data-v-6eb2dc2c",null);t.default=m.exports},wUZ8:function(e,t,a){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"}}}}});