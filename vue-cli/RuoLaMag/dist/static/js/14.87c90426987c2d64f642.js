webpackJsonp([14],{oETA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("GxbW"),s=a("0881"),n=a("TVmP"),o=a("2CU/"),i={name:"imgdeal",data:function(){return{numberValidateForm:{x:0,y:0,w:425,url:""},LOG:[]}},components:{"footer-c":n.a},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return r.a.showTip(t,"warning","输入错误！"),!1;t.addItem()})},resetForm:function(e){this.$refs[e].resetFields()},urlCheck:function(e,t,a){""===t?a(new Error("生产文件地址为空")):/^\\\\pc/i.test(t)?a():a(new Error("生产文件地址格式错误"))},addItem:function(){var e=this,t=this.numberValidateForm,a=t.x,n=t.y,i=t.w,l=t.url;this.$http.post(s.a.HOST+"/factory/image/deal/add",{x:a,y:n,w:i,url:l},s.a.SESSION_CONFIG_CROS).then(function(t){var a=JSON.parse(o.a.decryptRsa(t.body.result));a&&a.affectedRows>0?(e.getData(),e.resetForm("numberValidateForm"),r.a.showTip(e,"success","添加成功！")):r.a.showTip(e,"warning","请勿重复添加！")}).catch(function(t){console.warn(t),r.a.showTip(e,"warning","UNKNOW ERROR!")})},getData:function(){var e=this;this.$http.post(s.a.HOST+"/factory/image/deal/logs",{},s.a.SESSION_CONFIG_CROS).then(function(t){e.LOG=JSON.parse(o.a.decryptRsa(t.body.result))}).catch(function(t){console.warn(t),r.a.showTip(e,"warning","UNKNOW ERROR!")})},deleteItem:function(e){var t=this;this.$http.post(s.a.HOST+"/factory/image/deal/delete",{id:e},s.a.SESSION_CONFIG_CROS).then(function(e){var a=JSON.parse(o.a.decryptRsa(e.body.result));a&&a.affectedRows>0?(t.getData(),r.a.showTip(t,"success","删除成功！")):r.a.showTip(t,"warning","删除失败，尝试刷新页面！")}).catch(function(e){console.warn(e),r.a.showTip(t,"warning","UNKNOW ERROR!")})}},mounted:function(){this.getData()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap",staticStyle:{"min-height":"100%"}},[a("el-row",{staticClass:"content",staticStyle:{"margin-left":"0px","margin-right":"0px","min-height":"100%"},attrs:{gutter:20}},[a("el-col",{staticStyle:{"margin-top":"30px"},attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"form-wrap"},[a("p",[e._v("说明：")]),e._v(" "),a("p",[e._v("此为 生产文件路径以及 二维码 合成位置、宽度 录入界面。录入不代表马上合成。请谨慎添加。")]),e._v(" "),a("br"),e._v(" "),a("p",[e._v("步骤：")]),e._v(" "),a("p",[e._v("1、数据录入。")]),e._v(" "),a("p",[e._v("2、生产文件（newfiles）文件夹删除。")]),e._v(" "),a("p",[e._v("3、等待或者直接重启工作站合成系统。请不用使用工作站以外电脑上的合成（被子毯子那台处理程序除外）。")]),e._v(" "),a("p",[e._v("4、等待。")]),e._v(" "),a("p",[e._v("5、检查合成的正确性。")])])],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"30px"},attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"form-wrap"},[a("el-form",{ref:"numberValidateForm",attrs:{model:e.numberValidateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"X",prop:"x",rules:[{required:!0,message:"X值不能为空"},{type:"number",message:"X值必须为数字值"}]}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.numberValidateForm.x,callback:function(t){e.$set(e.numberValidateForm,"x",e._n(t))},expression:"numberValidateForm.x"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Y",prop:"y",rules:[{required:!0,message:"Y值不能为空"},{type:"number",message:"Y值必须为数字值"}]}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.numberValidateForm.y,callback:function(t){e.$set(e.numberValidateForm,"y",e._n(t))},expression:"numberValidateForm.y"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"W",prop:"w",rules:[{required:!0,message:"W值不能为空"},{type:"number",message:"W值必须为数字值"}]}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.numberValidateForm.w,callback:function(t){e.$set(e.numberValidateForm,"w",e._n(t))},expression:"numberValidateForm.w"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"本地路径",prop:"url",rules:[{required:!0,message:"地址不能为空"},{message:"请使用正确格式的局域网地址",validator:e.urlCheck}]}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"例如：\\\\pc-1\\g\\博格\\带帽卫衣\\L"},model:{value:e.numberValidateForm.url,callback:function(t){e.$set(e.numberValidateForm,"url",e._n(t))},expression:"numberValidateForm.url"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("numberValidateForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("numberValidateForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"30px",padding:"0"},attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("el-card",{staticStyle:{height:"605px",padding:"0"}},[a("p",{staticStyle:{"margin-bottom":"10px"}},[e._v("记录列表：")]),e._v(" "),a("el-scrollbar",{staticStyle:{height:"570px"},attrs:{wrapStyle:"",wrapClass:"",viewClass:"",viewStyle:"",noresize:!1,tag:"section"}},e._l(e.LOG,function(t,r){return a("p",{key:t.id},[e._v("\n            "+e._s(r+1)+".本地路径："+e._s(t.url)+"，X："+e._s(t.x)+"，Y："+e._s(t.y)+"，W："+e._s(t.w)+"\n            "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.deleteItem(t.id)}}},[e._v("删除")])],1)}))],1)],1)],1),e._v(" "),a("footer-c",{staticClass:"footer"})],1)},staticRenderFns:[]};var m=a("VU/8")(i,l,!1,function(e){a("pnDU")},"data-v-7840502e",null);t.default=m.exports},pnDU:function(e,t){}});